# 게임 개발 문서

## 프로젝트 디렉터리 구조

```
pharse-games/
├── .github/
│   └── workflows/
│       └── deploy.yml              # GitHub Actions 배포 설정
│
├── public/
│   └── vite.svg                    # Vite 로고 아이콘
│
├── src/
│   ├── app/                        # React 앱 메인 구성
│   │   ├── App.tsx                 # 루트 앱 컴포넌트
│   │   ├── GameHub.tsx             # 게임 선택 화면
│   │   └── router.tsx              # React Router 설정
│   │
│   ├── assets/
│   │   └── react.svg               # React 로고
│   │
│   ├── games/                      # 게임 모음
│   │   ├── common/                 # 공통 게임 컴포넌트
│   │   │   ├── ConfirmModal.tsx    # 종료 확인 모달
│   │   │   ├── ExitButton.tsx      # 종료 버튼
│   │   │   └── GamePage.tsx        # 게임 페이지 래퍼
│   │   │
│   │   ├── dodge/                  # 회피 게임
│   │   │   ├── DodgePage.tsx       # Dodge 게임 페이지
│   │   │   └── DodgeScene.ts       # Phaser Dodge Scene
│   │   │
│   │   ├── jump/                   # 점프 게임
│   │   │   ├── JumpPage.tsx        # Jump 게임 페이지
│   │   │   └── OneTapJumpScene.ts  # Phaser Jump Scene
│   │   │
│   │   ├── rhythm/                 # 리듬 게임
│   │   │   ├── RhythmPage.tsx      # Rhythm 게임 페이지
│   │   │   └── TimingRhythmScene.ts # Phaser Rhythm Scene
│   │   │
│   │   └── shooter/                # 슈팅 게임
│   │       ├── ShooterPage.tsx     # Shooter 게임 페이지
│   │       └── ShooterScene.ts     # Phaser Shooter Scene
│   │
│   ├── pharser/                    # Phaser 관련 유틸리티
│   │   ├── config.ts               # Phaser 게임 설정
│   │   └── PharserGame.tsx         # Phaser 게임 래퍼 컴포넌트
│   │
│   ├── index.css                   # 전역 CSS 스타일
│   └── main.tsx                    # 앱 진입점
│
├── .gitignore                      # Git 제외 파일 목록
├── change-log.md                   # 변경 로그
├── dev.md                          # 개발 문서 (이 파일)
├── eslint.config.js                # ESLint 설정
├── index.html                      # HTML 템플릿
├── package.json                    # 프로젝트 설정 및 의존성
├── package-lock.json               # 패키지 잠금 파일
├── README.md                       # 프로젝트 README
├── tsconfig.json                   # TypeScript 설정 (루트)
├── tsconfig.app.json               # TypeScript 설정 (앱)
├── tsconfig.node.json              # TypeScript 설정 (Node)
└── vite.config.ts                  # Vite 빌드 설정
```

---

## 프로젝트 개요

Phaser.js 게임 엔진을 사용하여 구현한 웹 기반 미니 게임 컬렉션입니다. React + TypeScript + Vite 환경에서 개발되었습니다.

---

## 게임 목록

### 1. Dodge (회피 게임)

#### 게임 개요
위에서 떨어지는 장애물을 회피하며 생존하는 간단한 액션 게임입니다.

#### 플레이 방법
- **조작**: 마우스 이동 또는 터치로 플레이어를 좌우로 이동
- **목표**: 화면 하단에 위치한 플레이어를 조작하여 위에서 떨어지는 빨간색 장애물을 회피
- **게임 오버**: 장애물과 충돌하면 게임 종료
- **재시작**: 게임 오버 화면에서 탭/클릭하면 즉시 재시작

#### 게임 특징
- 0.8초마다 랜덤 위치에서 장애물 생성
- 장애물은 화면 아래로 3픽셀/프레임 속도로 이동
- 화면 밖으로 나간 장애물은 자동 제거
- 반응형 디자인으로 화면 크기 변경에 자동 대응

#### 기술 구현
- 플레이어: 흰색 정사각형 (50x50)
- 장애물: 빨간색 정사각형 (30x30)
- 충돌 감지: AABB (Axis-Aligned Bounding Box) 방식

---

### 2. One-Tap Jump (원탭 점프)

#### 게임 개요
좌측에서 오는 장애물을 점프로 회피하며 최대한 오래 생존하는 무한 러너 게임입니다.

#### 플레이 방법
- **조작**: 화면을 탭하거나 클릭하면 점프
- **목표**: 좌측에서 오는 빨간색 장애물을 점프로 회피하며 최고 점수 달성
- **점수**: 시간이 지날수록 자동으로 점수가 증가 (속도에 비례)
- **게임 오버**: 장애물과 충돌하면 게임 종료 (최종 점수 표시)
- **재시작**: 게임 오버 화면에서 탭/클릭하면 재시작

#### 게임 특징
- **중력 시스템**: 점프 후 자연스러운 낙하 구현
- **점프 메커니즘**: 땅에 있을 때만 점프 가능 (공중 점프 불가)
- **점프 시 이동**: 점프하면 앞으로 살짝 이동, 착지 후 기본 위치로 복귀
- **난이도 증가**: 5초마다 이동 속도가 10씩 증가하여 점진적으로 어려워짐
- **배경 효과**: 하늘색 그라데이션 배경과 구름이 좌우로 스크롤
- **장애물 생성**: 1.5초마다 랜덤 크기(30~60픽셀)의 장애물 생성

#### 기술 구현
- 플레이어: 파란색 정사각형 (40x40)
- 장애물: 빨간색 정사각형 (랜덤 크기)
- 중력: 1200 픽셀/초²
- 점프 힘: -500 픽셀/초
- 초기 이동 속도: 150 픽셀/초
- Canvas를 사용한 그라데이션 배경과 구름 렌더링

---

### 3. Minimal Shooter (미니멀 슈터)

#### 게임 개요
3개의 스테이지로 구성된 탑뷰 슈팅 게임입니다. 적을 처치하고 아이템을 활용하여 모든 스테이지를 클리어하세요.

#### 플레이 방법
- **조작**: 마우스 이동 또는 터치로 플레이어를 상하좌우 자유롭게 이동
- **발사**: 자동으로 0.25초마다 총알 발사
- **목표**: 각 스테이지의 모든 적을 처치하여 다음 스테이지로 진행
- **점수**: 적 하나 처치 시 100점 획득
- **게임 오버 조건**: 
  - 적과 충돌
  - 적이 화면 아래로 탈출
  - 적의 총알과 충돌
- **게임 클리어**: 3개의 스테이지를 모두 클리어

#### 게임 특징

##### 스테이지 시스템
- **스테이지 1** (노란색 배경)
  - 총 10마리 적 생성
  - 동시에 최대 5마리까지 등장
  - 아이템 1개 등장
  
- **스테이지 2** (베이지색 배경)
  - 총 20마리 적 생성
  - 동시에 최대 8마리까지 등장
  - 일반 적 + 슈터 타입 적 등장
  - 아이템 2개 등장

- **스테이지 3** (보라색 배경)
  - 총 40마리 적 생성
  - 동시에 최대 12마리까지 등장
  - 일반 적 + 슈터 타입 + 탱크 타입 적 등장
  - 아이템 3개 등장

##### 적 타입
1. **Normal (일반)**: 빨간색, HP 1, 기본 이동만
2. **Shooter (슈터)**: 빨간색, HP 1, 주기적으로 아래로 총알 발사 (1.2~2초 간격)
3. **Tank (탱크)**: 분홍색, HP 5, 크기 48x48, 이동만 함

##### 아이템 시스템
- **아이템 1 - 속도 증가**: 플레이어 이동 속도 1.5배 증가 (5초 지속)
- **아이템 2 - 트리플 샷**: 총알을 3발씩 발사 (좌우 각각 15도 각도, 5초 지속)
- **아이템 3 - 적 얼리기**: 모든 적의 이동 정지 (5초 지속)
- 아이템은 보라색 정사각형에 숫자 라벨 표시
- 아이템은 3초 후 자동으로 사라짐
- 각 스테이지마다 스케줄에 따라 아이템 생성

##### 난이도 증가
- 스테이지마다 동시 등장 가능한 적의 수가 점진적으로 증가
- 스테이지가 올라갈수록 적의 총 수가 증가
- 스테이지 2부터 슈터 타입 적 등장 (15% 확률)
- 스테이지 3부터 탱크 타입 적 등장 (15% 확률)

#### 기술 구현
- 플레이어: 검은색 정사각형 (40x40), 이동 속도 300 픽셀/초
- 총알: 노란색 직사각형 (6x16), 속도 500 픽셀/초
- 적 총알: 초록색 직사각형 (6x14), 속도 250 픽셀/초
- 트리플 샷 구현: 각도 기반 벡터 계산
- 스테이지 전환 시 배경색 변경 및 상태 초기화

---

### 4. Timing Rhythm (리듬 게임)

#### 게임 개요
좌우 레인에서 떨어지는 노트를 타이밍에 맞춰 맞추는 리듬 게임입니다. 3개의 스테이지로 구성되어 있으며, 점수를 달성하면 다음 스테이지로 자동 전환됩니다.

#### 플레이 방법
- **조작**: 좌측/우측 버튼을 클릭하거나 PC에서는 마우스 좌클릭(좌측)/우클릭(우측)
- **목표**: 판정선에 노트가 도달했을 때 해당 레인의 버튼을 눌러 PERFECT 또는 GOOD 판정을 받아 점수 획득
- **판정**: 
  - **PERFECT**: 판정선 기준 ±10픽셀 이내 (200점)
  - **GOOD**: 판정선 기준 ±30픽셀 이내 (100점)
  - **MISS**: 판정 실패 또는 노트가 판정선을 지나침 (Miss 카운트 증가)
- **게임 오버**: Miss 5회 누적 시 게임 종료
- **게임 클리어**: STAGE3에서 6000점 달성

#### 게임 특징

##### 스테이지 시스템
- **STAGE1**
  - 노트 속도: 250 픽셀/초
  - 노트 생성 간격: 1200ms (1.2초)
  - 다음 스테이지 전환: 1000점 달성
  - 한 번에 1개 노트 생성

- **STAGE2**
  - 노트 속도: 320 픽셀/초
  - 노트 생성 간격: 900ms (0.9초)
  - 다음 스테이지 전환: 3000점 달성
  - 한 번에 1~2개 노트 랜덤 생성

- **STAGE3**
  - 노트 속도: 400 픽셀/초
  - 노트 생성 간격: 650ms (0.65초)
  - 게임 클리어: 6000점 달성
  - 한 번에 2~3개 노트 랜덤 생성

##### 스테이지 전환 시스템
- 점수 달성 시 게임이 일시정지되고 "Congrats! Tap to next Stage" 메시지 표시
- 탭/클릭 시 다음 스테이지로 전환
- 스테이지 전환 시 노트 생성 타이머와 설정이 자동으로 업데이트됨

##### 시각적 피드백
- 판정 결과 텍스트가 위로 올라가며 사라지는 애니메이션 (Tween 사용)
- 판정 영역이 판정 결과에 따라 색상 변경 (PERFECT: 연두색, GOOD: 연파란색, MISS: 연빨간색)
- 버튼 클릭 시 리플 효과 (원형 확장 애니메이션)
- 상단 중앙에 현재 스테이지 표시

#### 기술 구현
- **레인**: 좌측 30%, 우측 70% 위치에 배치
- **판정선**: 화면 하단에서 160픽셀 위에 위치
- **판정 범위**: 
  - PERFECT: ±10픽셀
  - GOOD: ±30픽셀
- **노트**: 파란색 직사각형 (60x20)
- **입력 처리**: `setInteractive()`를 사용한 버튼 이벤트 + PC 마우스 좌/우클릭 지원
- **애니메이션**: Phaser Tweens를 사용한 텍스트 및 리플 효과

---
### 5. Tactics 게임
1. 전체 설계 방향 (핵심 요약)

목표

Phaser 기반

파랜드 택틱스 스타일의 그리드 기반 턴제 전술
플레이타임 짧게 (3 스테이지 + 보스)
캐릭터 1명, 스킬 3개
레벨업 시 스킬 강화
스토리 + 대화 + 멀티 엔딩
핵심 설계 원칙
Scene은 “화면” 단위
전투 로직은 Scene 밖으로 분리
데이터 기반 설계 (JSON/TS 객체)
React는 ‘선택/라우팅’, Phaser는 ‘게임’에만 집중

##구조
src/games/
└── tactics/                ← 새로 추가
    ├── TacticsPage.tsx
    ├── scenes/
    │   ├── BootScene.ts
    │   ├── StoryScene.ts
    │   ├── BattleScene.ts
    │   ├── ResultScene.ts
    │   └── EndingScene.ts
    │
    ├── systems/             ← 핵심 로직 (중요)
    │   ├── TurnSystem.ts
    │   ├── GridSystem.ts
    │   ├── BattleSystem.ts
    │   ├── SkillSystem.ts
    │   └── DialogueSystem.ts
    │
    ├── data/
    │   ├── stages.ts
    │   ├── skills.ts
    │   ├── enemies.ts
    │   ├── dialogues.ts
    │   └── endings.ts
    │
    ├── entities/
    │   ├── Player.ts
    │   ├── Enemy.ts
    │   └── Skill.ts
    │
    └── types.ts

---

## 공통 기능

### 반응형 디자인
- 모든 게임이 화면 크기 변경에 자동으로 대응
- 모바일 터치와 데스크톱 마우스 입력 모두 지원

### 게임 페이지 구조
- 각 게임은 `GamePage` 공통 컴포넌트로 감싸짐
- 게임 종료 버튼으로 메인 화면(GameHub)으로 복귀 가능

### 라우팅
- `/` - GameHub (게임 선택 화면)
- `/dodge` - Dodge 게임
- `/jump` - One-Tap Jump 게임
- `/shooter` - Minimal Shooter 게임
- `/rhythm` - Timing Rhythm 게임

---

## 기술 스택

- **게임 엔진**: Phaser 3.90.0
- **프레임워크**: React 19.2.0
- **라우팅**: React Router DOM 7.10.1
- **빌드 도구**: Vite 7.2.4
- **언어**: TypeScript 5.9.3



